{% extends "base.html" %}

{% block header_content %}
<p style="margin:0 0 8px;font-size:28px;">&#128499;</p>
<h1 style="margin:0 0 6px;color:#ffffff;font-size:24px;font-weight:800;letter-spacing:-0.3px;">{{ strings.title }}</h1>
{% endblock %}

{% block content %}
<p style="margin:0 0 20px;font-size:15px;color:#334155;line-height:1.6;">{{ strings.greeting.format(name=attendee_name) }}</p>

{# Meeting Context Card #}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="margin-bottom:24px;background-color:#F8FAFC;border-radius:12px;border:1px solid #E2E8F0;">
<tr><td style="padding:20px;">
  <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
    <tr>
      <td style="padding:6px 0;border-bottom:1px solid #E2E8F0;">
        <span style="font-size:11px;font-weight:700;color:#64748B;text-transform:uppercase;letter-spacing:0.5px;">{{ strings.meeting_label }}</span><br/>
        <span style="font-size:16px;color:#0F172A;font-weight:700;">{{ meeting_title }}</span>
      </td>
    </tr>
    <tr>
      <td style="padding:6px 0;{% if meeting_location or meeting_description %}border-bottom:1px solid #E2E8F0;{% endif %}">
        <span style="font-size:11px;font-weight:700;color:#64748B;text-transform:uppercase;letter-spacing:0.5px;">{{ strings.organized_by }}</span><br/>
        <span style="font-size:14px;color:#334155;">{{ organizer_name }}</span>
      </td>
    </tr>
    {% if meeting_location %}
    <tr>
      <td style="padding:6px 0;{% if meeting_description %}border-bottom:1px solid #E2E8F0;{% endif %}">
        <span style="font-size:11px;font-weight:700;color:#64748B;text-transform:uppercase;letter-spacing:0.5px;">{{ strings.location_label }}</span><br/>
        <span style="font-size:14px;color:#334155;">{{ meeting_location }}</span>
      </td>
    </tr>
    {% endif %}
    {% if meeting_description %}
    <tr>
      <td style="padding:6px 0;">
        <span style="font-size:11px;font-weight:700;color:#64748B;text-transform:uppercase;letter-spacing:0.5px;">{{ strings.description_label }}</span><br/>
        <span style="font-size:14px;color:#334155;line-height:1.6;">{{ meeting_description }}</span>
      </td>
    </tr>
    {% endif %}
  </table>
</td></tr>
</table>

{# Vote Prompt #}
<p style="margin:0 0 16px;font-size:15px;color:#0F172A;font-weight:700;text-align:center;">{{ strings.vote_prompt }}</p>

{# Time Slot Buttons #}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="margin-bottom:24px;">
{% for slot in time_slots %}
<tr>
  <td style="padding:6px 0;">
    <a href="{{ vote_base_url }}/api/v1/meetings/vote/{{ vote_token }}?slot={{ slot.id }}" style="display:block;text-align:center;padding:16px 14px;background-color:{{ slot_colors[loop.index0 % slot_colors|length] }};color:#FFFFFF;text-decoration:none;border-radius:12px;font-size:15px;font-weight:700;box-shadow:0 2px 8px rgba(0,0,0,0.15);">
      {{ strings.option }} {{ slot.slot_number }}: {{ slot.proposed_start.strftime('%d/%m/%Y %H:%M') }}{% if slot.proposed_end %} - {{ slot.proposed_end.strftime('%H:%M') }}{% endif %}
    </a>
  </td>
</tr>
{% endfor %}
</table>

{# Info Note #}
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="background:#F0F9FF;border-radius:10px;border:1px solid #BAE6FD;">
<tr><td style="padding:14px 18px;text-align:center;">
<p style="margin:0;color:#0369A1;font-size:13px;">{{ strings.vote_note }}</p>
</td></tr>
</table>
{% endblock %}

{% block cta %}{% endblock %}

{% block footer %}{{ strings.footer }}{% endblock %}
{% block footer_auto %}{{ strings.auto_message }}{% endblock %}
