{
  "integrations_researched": [
    {
      "name": "React Hook Form",
      "type": "library",
      "verified_package": {
        "name": "react-hook-form",
        "install_command": "npm install react-hook-form",
        "version": "^7.71.1",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { useForm, Controller } from 'react-hook-form'"
        ],
        "initialization": "const { control, handleSubmit, formState: { errors } } = useForm({ defaultValues: {...}, resolver: zodResolver(schema) })",
        "key_functions": [
          "useForm() - Main hook for form management",
          "Controller - Component for controlled inputs (required for MUI)",
          "handleSubmit() - Form submission handler",
          "formState.errors - Error state object"
        ],
        "verified_against": "https://react-hook-form.com/ and https://www.npmjs.com/package/react-hook-form"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": [
          "@hookform/resolvers (for Zod integration)"
        ]
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "MUI components require Controller wrapper - don't use register() directly with MUI",
        "Controller is necessary because Material UI doesn't provide a similar prop to pass the register as a value to the ref prop",
        "Use inputRef prop for MUI TextField components to connect with React Hook Form",
        "Minimizes re-renders - only re-renders fields that changed"
      ],
      "research_sources": [
        "https://react-hook-form.com/",
        "https://www.npmjs.com/package/react-hook-form",
        "https://blog.logrocket.com/using-material-ui-with-react-hook-form/",
        "https://www.dhiwise.com/post/guide-to-integrating-react-hook-form-with-material-ui"
      ]
    },
    {
      "name": "Zod",
      "type": "library",
      "verified_package": {
        "name": "zod",
        "install_command": "npm install zod @hookform/resolvers",
        "version": "latest",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { z } from 'zod'",
          "import { zodResolver } from '@hookform/resolvers/zod'"
        ],
        "initialization": "const schema = z.object({ email: z.string().email(), subject: z.string().min(1) })",
        "key_functions": [
          "z.string() - String validation",
          "z.string().email() - Email validation",
          "z.string().min(n) - Minimum length validation",
          "z.array() - Array validation",
          "z.date() - Date validation",
          "z.optional() - Optional fields",
          "zodResolver(schema) - Resolver for React Hook Form"
        ],
        "verified_against": "https://zod.dev/ and multiple tutorials"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": ["@hookform/resolvers"]
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "Provides runtime validation that matches TypeScript types perfectly",
        "Automatically infers TypeScript types from schema using z.infer<typeof schema>",
        "Built-in email validation with z.string().email()",
        "Error messages can be customized per field",
        "Schema validation runs on form submission by default"
      ],
      "research_sources": [
        "https://zod.dev/",
        "https://www.contentful.com/blog/react-hook-form-validation-zod/",
        "https://www.freecodecamp.org/news/react-form-validation-zod-react-hook-form/",
        "https://dev.to/marufrahmanlive/react-hook-form-with-zod-complete-guide-for-2026-1em1"
      ]
    },
    {
      "name": "mui-tiptap",
      "type": "library",
      "verified_package": {
        "name": "mui-tiptap",
        "install_command": "npm install mui-tiptap @tiptap/react @tiptap/starter-kit",
        "version": "latest (supports Tiptap v2 and v3)",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { RichTextEditor } from 'mui-tiptap'",
          "import { useEditor } from '@tiptap/react'",
          "import StarterKit from '@tiptap/starter-kit'"
        ],
        "initialization": "const editor = useEditor({ extensions: [StarterKit], content: '<p>Initial content</p>' })",
        "key_functions": [
          "RichTextEditor - All-in-one MUI styled editor component",
          "useEditor() - Hook to create editor instance",
          "editor.getHTML() - Get editor content as HTML",
          "editor.commands.setContent() - Set editor content"
        ],
        "verified_against": "https://github.com/sjdemartini/mui-tiptap"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": [
          "@tiptap/react",
          "@tiptap/starter-kit",
          "@mui/material (peer dependency)"
        ]
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "Peer dependencies @mui/material and @emotion/ must be installed first",
        "Styled based on your MUI theme (colors, fonts, light vs dark mode)",
        "Supports both Tiptap v2 and v3 with peer dependency ranges",
        "Reduced bundle size by 20% compared to previous versions (now uses MUI styled utility)",
        "Provides built-in styles for Tiptap's extensions",
        "All-in-one RichTextEditor component available for quick setup"
      ],
      "research_sources": [
        "https://github.com/sjdemartini/mui-tiptap",
        "https://tiptap.dev/docs/editor/getting-started/install/react",
        "https://liveblocks.io/blog/which-rich-text-editor-framework-should-you-choose-in-2025"
      ]
    },
    {
      "name": "react-quill-new (alternative)",
      "type": "library",
      "verified_package": {
        "name": "react-quill-new",
        "install_command": "npm install react-quill-new",
        "version": "latest",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import ReactQuill from 'react-quill-new'"
        ],
        "initialization": "<ReactQuill value={value} onChange={setValue} />",
        "key_functions": [
          "ReactQuill component",
          "onChange prop for handling content changes",
          "value prop for controlled component",
          "modules prop for toolbar customization"
        ],
        "verified_against": "https://www.npmjs.com/package/react-quill"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": ["quill"]
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "IMPORTANT: Original react-quill is no longer actively maintained - use react-quill-new fork instead",
        "For Next.js/SSR: Must import dynamically and render client-side only (browser-specific features)",
        "Lighter bundle size compared to Tiptap",
        "Less customizable than Tiptap or Lexical",
        "Used by popular apps like Slack, LinkedIn, Figma, Zoom",
        "Version 2 rewritten in TypeScript (released April 2024)",
        "May struggle with very large documents"
      ],
      "research_sources": [
        "https://react-quill.js.org/",
        "https://www.npmjs.com/package/react-quill",
        "https://github.com/zenoamaro/react-quill"
      ]
    },
    {
      "name": "MUI Autocomplete (for CC emails)",
      "type": "library",
      "verified_package": {
        "name": "@mui/material",
        "install_command": "Already installed (v5.15.6)",
        "version": "5.15.6",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { Autocomplete, Chip, TextField } from '@mui/material'"
        ],
        "initialization": "<Autocomplete multiple freeSolo options={[]} renderTags={(value, getTagProps) => value.map((option, index) => <Chip {...getTagProps({ index })} label={option} />)} />",
        "key_functions": [
          "multiple prop - Enables multi-selection",
          "freeSolo prop - Allows custom input (user can type any email)",
          "renderTags prop - Customizes chip display",
          "getTagProps function - Gets props for each chip",
          "limitTags prop - Limits displayed chips",
          "renderInput prop - Customizes input field"
        ],
        "verified_against": "https://mui.com/material-ui/react-autocomplete/"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "Use freeSolo={true} to allow users to type any email address (not just from options list)",
        "Use multiple={true} for multi-selection with chips",
        "renderInput is required and must forward props to TextField",
        "Use limitTags to limit visible chips and show '+n' for overflow",
        "Can set disabled on specific chips in renderTags for non-deletable tags",
        "Combine with Controller from react-hook-form for integration"
      ],
      "research_sources": [
        "https://mui.com/material-ui/react-autocomplete/",
        "https://kombai.com/mui/chip/",
        "https://refine.dev/blog/material-ui-autocomplete-component/"
      ]
    },
    {
      "name": "MUI X Date Pickers",
      "type": "library",
      "verified_package": {
        "name": "@mui/x-date-pickers",
        "install_command": "Already installed (v6.19.2)",
        "version": "6.19.2",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { DatePicker } from '@mui/x-date-pickers/DatePicker'",
          "import { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider'",
          "import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'",
          "import dayjs, { Dayjs } from 'dayjs'"
        ],
        "initialization": "<LocalizationProvider dateAdapter={AdapterDayjs}><DatePicker /></LocalizationProvider>",
        "key_functions": [
          "DatePicker component",
          "LocalizationProvider - Required wrapper for date adapter",
          "AdapterDayjs - Date library adapter (dayjs already installed)",
          "value prop - Dayjs object for controlled component",
          "onChange prop - Handler for date changes",
          "slotProps - Pass props to inner TextField"
        ],
        "verified_against": "https://mui.com/x/react-date-pickers/"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": ["dayjs (already installed v1.11.10)"]
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "IMPORTANT: MUI v6 DatePicker no longer has renderInput prop (breaking change from v5)",
        "Must wrap DatePicker in Controller for react-hook-form integration",
        "Pass field.value, field.ref as inputRef, and field.onChange to DatePicker",
        "Use slotProps to customize the inner TextField component",
        "dayjs is already installed in project (v1.11.10) - use AdapterDayjs",
        "Default value type should be Dayjs | null for TypeScript"
      ],
      "research_sources": [
        "https://mui.com/x/react-date-pickers/",
        "https://github.com/orgs/react-hook-form/discussions/10135",
        "https://medium.com/@david.zhao.blog/mui-x-datepicker-6-use-dayjs-instead-of-moment-for-react-hook-form-d590f5d62023"
      ]
    },
    {
      "name": "React Dropzone",
      "type": "library",
      "verified_package": {
        "name": "react-dropzone",
        "install_command": "Already installed (v14.2.3)",
        "version": "14.2.3",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { useDropzone } from 'react-dropzone'"
        ],
        "initialization": "const { getRootProps, getInputProps, acceptedFiles } = useDropzone({ multiple: true, accept: { 'image/*': [], 'application/pdf': [] } })",
        "key_functions": [
          "useDropzone() - Main hook for dropzone functionality",
          "getRootProps() - Props for dropzone container",
          "getInputProps() - Props for hidden file input",
          "acceptedFiles - Array of accepted files",
          "multiple option - Enable multiple file selection",
          "accept option - MIME type restrictions",
          "onDrop callback - Handle dropped files"
        ],
        "verified_against": "https://react-dropzone.js.org/"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "Set multiple: true in useDropzone options for multiple file uploads",
        "Use URL.createObjectURL(file) to generate preview URLs for images",
        "Remember to revoke object URLs with URL.revokeObjectURL() to prevent memory leaks",
        "acceptedFiles is an array of File objects with name, size, type properties",
        "Can customize accept prop with MIME types: { 'image/*': [], 'application/pdf': [] }",
        "Drag and drop works automatically with getRootProps()",
        "Can show progress bar during upload using axios onUploadProgress"
      ],
      "research_sources": [
        "https://react-dropzone.js.org/",
        "https://github.com/react-dropzone/react-dropzone",
        "https://www.digitalocean.com/community/tutorials/react-react-dropzone",
        "https://www.bezkoder.com/react-dropzone-multiple-files-upload/"
      ]
    },
    {
      "name": "Email Validation",
      "type": "pattern",
      "verified_package": {
        "name": "zod (built-in email validation)",
        "install_command": "Part of Zod schema validation",
        "version": "N/A",
        "verified": true
      },
      "api_patterns": {
        "imports": [
          "import { z } from 'zod'"
        ],
        "initialization": "z.string().email('Invalid email address')",
        "key_functions": [
          "z.string().email() - Built-in email validation",
          "z.string().email(message) - Custom error message",
          "Regex alternative: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/"
        ],
        "verified_against": "https://zod.dev/ and email validation best practices"
      },
      "configuration": {
        "env_vars": [],
        "config_files": [],
        "dependencies": []
      },
      "infrastructure": {
        "requires_docker": false
      },
      "gotchas": [
        "Zod's .email() validation matches 99%+ of real email addresses",
        "Regex validation only checks syntax - doesn't verify domain or mailbox exists",
        "For production: Consider backend validation with tools like ZeroBounce or NeverBounce",
        "Client-side validation provides immediate feedback, server-side ensures security",
        "Common pattern: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/",
        "Don't over-complicate regex - RFC 5322 full compliance is impractical",
        "Multi-layered validation recommended: regex + domain check + mailbox verification"
      ],
      "research_sources": [
        "https://www.abstractapi.com/guides/email-validation/email-address-pattern-validation",
        "https://colinhacks.com/essays/reasonable-email-regex",
        "https://emailregex.com/",
        "https://www.regular-expressions.info/email.html"
      ]
    }
  ],
  "unverified_claims": [],
  "recommendations": [
    "Use React Hook Form with Zod for form management - industry standard combination with excellent TypeScript support",
    "Use mui-tiptap for rich text editor - best integration with Material-UI theme and styling",
    "Use MUI Autocomplete with freeSolo for CC emails - already available, no additional dependencies",
    "Wrap all MUI components in Controller from react-hook-form - direct register() won't work",
    "Consider creating reusable form field components that encapsulate Controller logic",
    "Use Zod's built-in email validation - simpler and more maintainable than custom regex",
    "Implement FormModal component pattern from existing codebase for consistency",
    "Use dayjs (already installed) with AdapterDayjs for date picker",
    "Remember to revoke object URLs created by URL.createObjectURL() for file previews"
  ],
  "rich_text_editor_comparison": {
    "mui-tiptap": {
      "pros": [
        "Best MUI integration with theme support",
        "Modern, extensible design",
        "Excellent documentation",
        "Good for collaboration features",
        "Modular architecture",
        "Supports Tiptap v2 and v3"
      ],
      "cons": [
        "Slightly larger bundle than Quill",
        "Some premium features require paid add-ons"
      ],
      "recommended_for": "Material-UI projects requiring modern, extensible editor"
    },
    "react-quill-new": {
      "pros": [
        "Simpler setup",
        "Lighter bundle size",
        "Battle-tested (used by Slack, LinkedIn, Figma)",
        "TypeScript support (v2+)",
        "Faster implementation"
      ],
      "cons": [
        "Less customizable",
        "May struggle with very large documents",
        "Original package unmaintained (use react-quill-new fork)"
      ],
      "recommended_for": "Simple rich text needs with minimal customization"
    }
  },
  "existing_project_patterns": {
    "dialog_components": {
      "base": "Modal component at ./frontend/src/components/ui/Modal.tsx",
      "form_variant": "FormModal component available with loading states and dual actions",
      "pattern": "Use FormModal as base, customize actions for 'Save as Draft' and 'Send Now'"
    },
    "text_fields": {
      "base": "TextField component at ./frontend/src/components/ui/TextField.tsx",
      "styled_with": "@mui/material styled with custom theme",
      "pattern": "Wrap in Controller for react-hook-form integration"
    },
    "styling": {
      "library": "@emotion/styled with MUI theme",
      "pattern": "Use styled() from @mui/material/styles",
      "theme_support": "Components respect theme.palette and theme.spacing"
    }
  },
  "installation_commands": [
    "npm install react-hook-form @hookform/resolvers zod",
    "npm install mui-tiptap @tiptap/react @tiptap/starter-kit"
  ],
  "created_at": "2026-02-02T12:00:00Z"
}
