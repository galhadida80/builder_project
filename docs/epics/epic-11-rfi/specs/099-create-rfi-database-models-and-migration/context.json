{
  "task_description": "# Create RFI Database Models and Migration\n\n**Linear Issue:** [BUI-94](https://linear.app/builder-project/issue/BUI-94/create-rfi-database-models-and-migration)\n**Priority:** No priority\n**Status:** Backlog\n\n\n## Description\n\n## User Story\n\nAs a developer, I need database models for RFIs so that I can store and track all RFI data.\n\n## Acceptance Criteria\n\n- [ ] Create `RFI` model with fields:\n  - id, project_id, rfi_number (unique, format: RFI-YYYY-NNNNN)\n  - email_thread_id, email_message_id (for Gmail threading)\n  - subject, question, category, priority\n  - to_email, to_name, cc_emails (JSONB)\n  - status (draft, open, waiting_response, answered, closed)\n  - due_date, sent_at, responded_at, closed_at\n  - location, drawing_reference, specification_reference\n  - attachments (JSONB)\n  - created_by_id, assigned_to_id\n- [ ] Create `RFIResponse` model with fields:\n  - id, rfi_id, email_message_id, in_reply_to\n  - response_text, attachments (JSONB)\n  - from_email, from_name, responder_id\n  - is_internal, source (email/crm/api)\n  - received_at\n- [ ] Create `RFIEmailLog` model for audit trail:\n  - id, rfi_id, event_type, email_message_id\n  - from_email, to_email, subject\n  - raw_payload (JSONB), error_message\n- [ ] Create Alembic migration\n- [ ] Add relationships to Project model\n\n## Technical Notes\n\n```python\nclass RFIStatus(str, Enum):\n    DRAFT = \"draft\"\n    OPEN = \"open\"\n    WAITING_RESPONSE = \"waiting_response\"\n    ANSWERED = \"answered\"\n    CLOSED = \"closed\"\n```\n\n## Labels\n\nbackend, database, rfi\n",
  "scoped_services": [],
  "files_to_modify": [],
  "files_to_reference": [],
  "created_at": "2026-02-02T14:50:11.042308"
}