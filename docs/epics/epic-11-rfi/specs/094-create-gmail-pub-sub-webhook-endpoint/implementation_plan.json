{
  "feature": "Create Gmail Pub/Sub Webhook Endpoint",
  "description": "# Create Gmail Pub/Sub Webhook Endpoint\n\n**Linear Issue:** [BUI-99](https://linear.app/builder-project/issue/BUI-99/create-gmail-pubsub-webhook-endpoint)\n**Priority:** No priority\n**Status:** Backlog\n\n\n## Description\n\n## User Story\n\nAs a developer, I need a webhook endpoint to receive Gmail push notifications when new emails arrive.\n\n## Acceptance Criteria\n\n- [ ] Create `/api/v1/webhooks/gmail/push` POST endpoint\n- [ ] Parse Pub/Sub message format (base64 encoded)\n- [ ] Extract historyId from notification\n- [ ] Process incoming emails in background task\n- [ ] Implement `process_gmail_history()`:\n  - Fetch message list from Gmail history\n  - Get full message details for each new message\n  - Call RFIService.process_incoming_email()\n- [ ] Return 200 OK quickly to acknowledge Pub/Sub\n- [ ] Add error handling and logging\n- [ ] Add webhook signature verification (optional)\n\n## Pub/Sub Message Format\n\n```json\n{\n  \"message\": {\n    \"data\": \"base64_encoded_json\",\n    \"messageId\": \"123\",\n    \"publishTime\": \"2024-01-01T12:00:00Z\"\n  }\n}\n```\n\n## Labels\n\nbackend, webhook, pubsub, rfi\n",
  "created_at": "2026-01-31T22:45:32.753Z",
  "updated_at": "2026-01-31T22:46:09.659Z",
  "status": "backlog",
  "phases": [],
  "planStatus": "pending"
}