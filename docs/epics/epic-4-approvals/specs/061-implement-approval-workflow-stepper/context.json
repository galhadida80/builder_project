{
  "task_description": "# Implement Approval Workflow Stepper\n\n**Linear Issue:** [BUI-65](https://linear.app/builder-project/issue/BUI-65/implement-approval-workflow-stepper)\n**Priority:** High\n**Status:** Backlog\n\n## Description\n\nHorizontal stepper with details - Ref: 26-approval-stepper.png\n",
  "scoped_services": ["frontend"],
  "files_to_modify": {
    "frontend": ["src/components/ui/Stepper.tsx"]
  },
  "files_to_reference": [
    "frontend/src/components/ui/Stepper.tsx",
    "frontend/src/utils/animations.ts",
    "backend/app/models/approval.py",
    "backend/app/schemas/approval.py",
    "design-assets/approval/26-approval-stepper.png"
  ],
  "patterns": {
    "mui_stepper_pattern": "Use MUI Stepper components (Stepper, Step, StepLabel, StepConnector) with custom styled components using Emotion",
    "animation_pattern": "Import and use animation utilities from utils/animations: duration, easing, createTransition, scaleIn, pulse",
    "typescript_interfaces": "Define interfaces matching backend schema structure with camelCase (from CamelCaseModel): approvalRequestId, stepOrder, approverRole, approvedById, approvedAt",
    "status_visual_mapping": "pending -> numbered circle neutral, approved -> check icon success color, rejected -> error icon error color, revision_requested -> warning icon warning color",
    "component_export": "Export named component functions (not default exports): export function ApprovalWorkflowStepper(...)"
  },
  "existing_implementations": {
    "description": "Found existing Stepper component with CustomStepIcon, CustomConnector, and two implementations (ApprovalStepper for basic workflow, ProgressStepper for generic progress). ApprovalWorkflowStepper will be a third variant showing detailed step-by-step approval information.",
    "relevant_files": [
      "frontend/src/components/ui/Stepper.tsx",
      "frontend/src/utils/animations.ts",
      "backend/app/models/approval.py",
      "backend/app/schemas/approval.py"
    ],
    "key_insights": [
      "Existing Stepper uses MUI Stepper with CustomStepIcon that handles active/completed/error states",
      "CustomConnector styles the lines between steps with transitions",
      "Animation utilities provide duration, easing, and helper functions like createTransition",
      "Backend has ApprovalRequest with ordered steps: each step has stepOrder, approverRole, status, approvedBy, approvedAt, comments",
      "Design shows horizontal stepper with step details panel below current step"
    ]
  },
  "design_reference": {
    "file": "design-assets/approval/26-approval-stepper.png",
    "key_features": [
      "Horizontal stepper with 4 steps in design example",
      "Active step has glow/pulse effect",
      "Solid connector lines for completed steps, dashed for pending",
      "Step detail panel below showing: Reviewer Information (avatar, name, role) and Comments"
    ],
    "critical_notes": [
      "Component should be display-only (no action buttons)",
      "Focus on stepper visualization and detail display",
      "Must support dynamic approver roles from data (not hardcoded steps)"
    ]
  },
  "created_at": "2026-02-04T17:30:42.525637",
  "updated_at": "2026-02-04T17:35:00.000000"
}
