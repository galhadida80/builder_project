{
  "complexity": "standard",
  "workflow_type": "feature",
  "confidence": 0.85,
  "reasoning": "Multi-component dashboard with charts, filters, and KPIs. Requires adding MUI X Charts library. Scope is contained to 10-12 files across frontend/backend. Existing MUI and date picker patterns can be leveraged. No infrastructure changes needed.",

  "analysis": {
    "scope": {
      "estimated_files": 11,
      "estimated_services": 2,
      "is_cross_cutting": false,
      "notes": "Frontend: Dashboard page, 4 KPI cards, 3 chart components, filters sidebar, date selector, API service layer. Backend: Analytics API endpoint with data aggregation logic."
    },
    "integrations": {
      "external_services": [],
      "new_dependencies": ["@mui/x-charts"],
      "research_needed": true,
      "notes": "MUI X Charts library needs to be added for line, bar, and donut charts. Good fit with existing MUI stack. Also need to research PDF/CSV export patterns."
    },
    "infrastructure": {
      "docker_changes": false,
      "database_changes": false,
      "config_changes": false,
      "notes": "Pure feature addition. Analytics data comes from existing database tables. No schema changes or infrastructure modifications needed."
    },
    "knowledge": {
      "patterns_exist": true,
      "research_required": true,
      "unfamiliar_tech": ["@mui/x-charts"],
      "notes": "MUI component patterns already exist in codebase. @mui/x-date-pickers already available for date range selector. Need to research MUI X Charts API for line, bar, and donut chart implementations, plus export functionality."
    },
    "risk": {
      "level": "medium",
      "concerns": [
        "Chart performance with large datasets",
        "Data aggregation complexity for analytics",
        "Export to PDF/CSV implementation",
        "Filter interaction with chart data updates",
        "Responsive design for charts and dashboard layout"
      ],
      "notes": "Multiple interactive components with data visualization. Need to ensure performant data fetching and chart rendering. Export features add complexity."
    }
  },

  "design_insights": {
    "source": "design-assets/dashboard/11-analytics.png",
    "components_identified": [
      "Top navigation bar with title and export buttons",
      "Date range selector (Jan 1, 2024 - Oct 31, 2024)",
      "Left sidebar with 4 filter dropdowns (Region, Project Type, Supervisor, Status)",
      "4 KPI cards showing metrics with change indicators",
      "Line chart: Project Progress Over Time",
      "Grouped bar chart: Budget Comparison (Planned vs Actual)",
      "Donut chart: Task Distribution by category"
    ],
    "chart_types_needed": ["line", "bar", "donut"],
    "interactive_features": [
      "Date range selection",
      "Multiple dropdown filters",
      "Export to PDF",
      "Export to CSV"
    ]
  },

  "recommended_phases": [
    "discovery",
    "requirements",
    "research",
    "context",
    "spec_writing",
    "planning",
    "validation"
  ],

  "flags": {
    "needs_research": true,
    "needs_self_critique": false,
    "needs_infrastructure_setup": false
  },

  "validation_recommendations": {
    "risk_level": "medium",
    "skip_validation": false,
    "minimal_mode": false,
    "test_types_required": ["unit", "integration"],
    "security_scan_required": false,
    "staging_deployment_required": false,
    "reasoning": "Multiple components with data visualization require comprehensive testing. Unit tests for KPI calculations and data aggregation. Integration tests for API endpoints and filter interactions. No security concerns (read-only analytics). No infrastructure changes."
  },

  "created_at": "2026-02-02T12:00:00Z"
}
