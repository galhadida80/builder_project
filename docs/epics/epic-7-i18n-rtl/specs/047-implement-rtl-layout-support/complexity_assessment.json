{
  "complexity": "standard",
  "workflow_type": "feature",
  "confidence": 0.85,
  "reasoning": "Cross-cutting frontend feature requiring CSS migration to logical properties and Material-UI RTL configuration. Single service with existing i18n infrastructure. Moderate research needed for CSS logical properties and MUI RTL patterns.",

  "analysis": {
    "scope": {
      "estimated_files": 18,
      "estimated_services": 1,
      "is_cross_cutting": true,
      "notes": "Will touch most components with directional styling (margins, padding, positioning), theme configuration, i18n setup, and root App component. Frontend-only change."
    },
    "integrations": {
      "external_services": [],
      "new_dependencies": [],
      "research_needed": true,
      "notes": "i18next infrastructure already exists. No new external integrations. Research needed for CSS logical properties best practices and Material-UI RTL implementation patterns."
    },
    "infrastructure": {
      "docker_changes": false,
      "database_changes": false,
      "config_changes": true,
      "notes": "May need to add language detection/selection config to i18n setup. No Docker or database changes. Purely frontend configuration."
    },
    "knowledge": {
      "patterns_exist": true,
      "research_required": true,
      "unfamiliar_tech": ["CSS logical properties", "Material-UI RTL"],
      "notes": "Project uses Emotion CSS-in-JS and Material-UI which both support RTL well. Need to research: CSS logical properties (margin-inline-start vs margin-left), MUI RTL configuration (createTheme direction), and existing i18n patterns in codebase."
    },
    "risk": {
      "level": "high",
      "concerns": [
        "Breaking existing layouts during CSS migration",
        "Missing components that need RTL updates",
        "Visual regression in LTR mode",
        "Incomplete bidirectional text handling",
        "Icon/image directionality issues"
      ],
      "notes": "High risk due to cross-cutting UI changes. All existing layouts must continue working in LTR mode while new RTL mode works correctly. Requires comprehensive visual testing."
    }
  },

  "recommended_phases": [
    "discovery",
    "requirements",
    "research",
    "context",
    "spec_writing",
    "planning",
    "validation"
  ],

  "flags": {
    "needs_research": true,
    "needs_self_critique": false,
    "needs_infrastructure_setup": false
  },

  "validation_recommendations": {
    "risk_level": "high",
    "skip_validation": false,
    "minimal_mode": false,
    "test_types_required": ["unit", "integration", "e2e"],
    "security_scan_required": false,
    "staging_deployment_required": false,
    "reasoning": "Layout changes affect entire UI and require comprehensive testing in both LTR and RTL modes. E2E tests critical for visual regression. No security implications. Staging deployment optional for visual QA with Hebrew/Arabic content."
  },

  "created_at": "2026-02-01T00:00:00Z"
}
