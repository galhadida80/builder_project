{
  "task_description": "Add form validation to Materials creation - warn users when delivery date is in the past while maintaining existing validations",
  "scoped_services": ["frontend"],
  "files_to_modify": [
    "frontend/src/utils/validation.ts",
    "frontend/src/pages/MaterialsPage.tsx"
  ],
  "files_to_reference": [
    "frontend/src/utils/validation.ts",
    "frontend/src/pages/MaterialsPage.tsx",
    "frontend/src/pages/EquipmentPage.tsx"
  ],
  "patterns": {
    "validation_helper_pattern": "Functions return string | null - null if valid, error message string if invalid",
    "form_validation_pattern": "Call validateXXXForm before submission, store errors in state, use hasErrors() to block submission",
    "inline_error_display": "Use TextField error={!!errors.fieldName} and helperText={errors.fieldName} props"
  },
  "existing_implementations": {
    "description": "Found existing validation.ts with helpers for required, minLength, maxLength, positiveNumber, email, phone, dateRange. MaterialsPage.tsx already validates name (required, min/max), quantity (positive), notes (max length) at lines 111-117.",
    "relevant_files": [
      "frontend/src/utils/validation.ts",
      "frontend/src/pages/MaterialsPage.tsx"
    ],
    "existing_validations": {
      "material_name": "required, min 2 chars, max 255 chars",
      "quantity": "positive number",
      "notes": "max 5000 chars"
    }
  },
  "key_decisions": {
    "warning_vs_blocking": "Past delivery dates = WARNING only (non-blocking). Legitimate scenarios exist for backdating delivery dates.",
    "validation_approach": "Extend existing validateMaterialForm function rather than creating new validation logic",
    "backward_compatibility": "All changes are non-breaking - expectedDelivery parameter is optional"
  },
  "created_at": "2026-01-29T16:40:18.475005",
  "updated_at": "2026-01-29T16:45:00.000000"
}
