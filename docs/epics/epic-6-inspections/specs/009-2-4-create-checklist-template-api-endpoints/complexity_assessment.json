{
  "complexity": "standard",
  "workflow_type": "feature",
  "confidence": 0.85,
  "reasoning": "New checklist template system with 14 endpoints following existing patterns. Requires database models and migration but follows established codebase patterns for CRUD operations.",

  "analysis": {
    "scope": {
      "estimated_files": 7,
      "estimated_services": 1,
      "is_cross_cutting": false,
      "notes": "Will create new models (checklist_template.py with 5 models), schemas (checklist_template.py), endpoints (checklist_templates.py), migration file, and modify router registration. Single backend service."
    },
    "integrations": {
      "external_services": [],
      "new_dependencies": [],
      "research_needed": false,
      "notes": "No external integrations. Uses existing FastAPI, SQLAlchemy, and Alembic stack already present in codebase."
    },
    "infrastructure": {
      "docker_changes": false,
      "database_changes": true,
      "config_changes": false,
      "notes": "Requires 5 new database tables (ChecklistTemplate, ChecklistSection, ChecklistItem, ChecklistInstance, ChecklistResponse) with relationships. Alembic migration needed. No Docker or environment variable changes."
    },
    "knowledge": {
      "patterns_exist": true,
      "research_required": false,
      "unfamiliar_tech": [],
      "notes": "Codebase has extensive examples of similar CRUD endpoints (equipment, materials, contacts, meetings). FastAPI patterns are well-established. SQLAlchemy relationship patterns exist."
    },
    "risk": {
      "level": "medium",
      "concerns": [
        "Admin access control for template endpoints needs proper implementation",
        "Hierarchical data model (templates → sections → items, instances → responses) requires careful relationship management",
        "Database migration needs to be tested",
        "Template instantiation logic needs validation"
      ],
      "notes": "Medium risk due to database schema changes and admin access requirements. However, no breaking changes to existing functionality."
    }
  },

  "recommended_phases": [
    "discovery",
    "requirements",
    "context",
    "spec_writing",
    "planning",
    "validation"
  ],

  "flags": {
    "needs_research": false,
    "needs_self_critique": false,
    "needs_infrastructure_setup": false
  },

  "validation_recommendations": {
    "risk_level": "medium",
    "skip_validation": false,
    "minimal_mode": false,
    "test_types_required": ["unit", "integration"],
    "security_scan_required": true,
    "staging_deployment_required": false,
    "reasoning": "Database changes and admin access control require comprehensive testing. Unit tests for business logic and integration tests for endpoint behavior are essential. Security scan needed for admin authorization checks. No staging deployment required as database is already PostgreSQL."
  },

  "created_at": "2026-01-29T00:00:00Z"
}
