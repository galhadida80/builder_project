{
  "files_to_modify": {
    "frontend": [
      "frontend/src/components/InspectionHistoryTimeline.tsx",
      "frontend/src/components/InspectionHistoryTimeline.test.tsx",
      "frontend/src/pages/InspectionsPage.tsx"
    ]
  },
  "files_to_reference": [
    "frontend/src/components/ui/Card.tsx",
    "frontend/src/components/ui/Avatar.tsx",
    "frontend/src/components/ui/EmptyState.tsx",
    "frontend/src/pages/InspectionsPage.tsx",
    "frontend/src/types/index.ts"
  ],
  "patterns": {
    "component_pattern": "Material-UI Card components with CardContent, styled with sx props, hover effects for clickable cards",
    "status_badge_pattern": "Use MUI Chip with color prop: pending=warning, in_progress=info, completed=success, failed=error",
    "date_formatting": "toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })",
    "loading_state": "Show 3 Skeleton cards in Box containers",
    "empty_state": "Use EmptyState component with HistoryIcon",
    "vertical_connector": "Box with width: 2, bgcolor: 'divider', connecting timeline dots",
    "navigation": "Use useNavigate() from react-router-dom to navigate to inspection detail"
  },
  "existing_implementations": {
    "description": "InspectionHistoryTimeline.tsx currently displays audit log events (create/update/delete actions). Need to refactor to show Inspection records as cards. InspectionsPage already fetches Inspection[] data via getProjectInspections() API.",
    "relevant_files": [
      "frontend/src/components/InspectionHistoryTimeline.tsx",
      "frontend/src/pages/InspectionsPage.tsx",
      "frontend/src/api/inspections.ts"
    ],
    "current_data_model": "InspectionHistoryEvent[] with action types (create, update, delete)",
    "target_data_model": "Inspection[] with properties: scheduledDate, createdBy, consultantType, status"
  },
  "design_reference": {
    "file": "design-assets/inspection/25-history-timeline.png",
    "key_elements": [
      "Vertical timeline with dates on left",
      "Gray circular dots connected by vertical lines",
      "White card containers with inspector avatar",
      "Inspector name + inspection type + status badge",
      "Date range filter dropdown (default: last 3 months)",
      "Clickable cards for navigation"
    ]
  },
  "data_source": {
    "api_method": "inspectionsApi.getProjectInspections(projectId)",
    "returns": "Inspection[]",
    "already_called_in": "InspectionsPage.tsx line 57",
    "no_backend_changes_needed": true
  },
  "status_mapping": {
    "pending": {
      "color": "warning",
      "mui_color": "yellow"
    },
    "in_progress": {
      "color": "info",
      "mui_color": "blue"
    },
    "completed": {
      "color": "success",
      "mui_color": "green"
    },
    "failed": {
      "color": "error",
      "mui_color": "red"
    }
  },
  "task_description": "Refactor InspectionHistoryTimeline component from displaying audit log events to displaying inspection records as interactive vertical timeline cards with date filtering"
}