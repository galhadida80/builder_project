{
  "complexity": "standard",
  "workflow_type": "feature",
  "confidence": 0.85,
  "reasoning": "Creating two new SQLAlchemy models with bilingual support and JSONB fields. Limited scope (backend only), no external integrations, using existing SQLAlchemy patterns. Requires database migration and possibly extending existing ConsultantType model.",

  "analysis": {
    "scope": {
      "estimated_files": 4,
      "estimated_services": 1,
      "is_cross_cutting": false,
      "notes": "New model file (inspection_template.py), Alembic migration file, possibly model __init__.py to register models, possibly existing ConsultantType model if extending it. All changes confined to backend service."
    },
    "integrations": {
      "external_services": [],
      "new_dependencies": [],
      "research_needed": false,
      "notes": "No external services or new dependencies. SQLAlchemy and Alembic already in use. PostgreSQL JSONB is native feature."
    },
    "infrastructure": {
      "docker_changes": false,
      "database_changes": true,
      "config_changes": false,
      "notes": "Database schema changes (new tables) via Alembic migration. No Docker/docker-compose changes needed. Minimal config changes if any."
    },
    "knowledge": {
      "patterns_exist": true,
      "research_required": false,
      "unfamiliar_tech": [],
      "notes": "Project already uses SQLAlchemy models (user.py exists), Alembic migrations configured, PostgreSQL with JSONB support. Standard model creation patterns should be present."
    },
    "risk": {
      "level": "low",
      "concerns": [
        "Need to decide whether to extend existing ConsultantType or create new InspectionConsultantType",
        "JSONB schema design for trigger_conditions and required_documents fields needs to be well-defined",
        "Data migration from Excel (21 consultant types with stages) needs careful planning",
        "Bilingual support (English/Hebrew) must be consistently implemented"
      ],
      "notes": "Low risk as this is adding new models without modifying existing functionality. Main concerns are design decisions (extend vs new model) and JSONB schema structure."
    }
  },

  "recommended_phases": [
    "discovery",
    "requirements",
    "context",
    "spec_writing",
    "planning",
    "validation"
  ],

  "flags": {
    "needs_research": false,
    "needs_self_critique": false,
    "needs_infrastructure_setup": false
  },

  "validation_recommendations": {
    "risk_level": "medium",
    "skip_validation": false,
    "minimal_mode": false,
    "test_types_required": ["unit", "integration"],
    "security_scan_required": false,
    "staging_deployment_required": false,
    "reasoning": "Database model changes require unit tests for model validation (field types, constraints, relationships) and integration tests for database schema creation and queries. No security-sensitive code or auth changes involved."
  },

  "created_at": "2026-01-29T10:30:00Z"
}
