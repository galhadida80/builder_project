{
  "task_description": "# Create Document Library\n\n**Linear Issue:** [BUI-73](https://linear.app/builder-project/issue/BUI-73/create-document-library)\n**Priority:** High\n**Status:** Backlog\n\n## Description\n\nFolder tree, file list - Ref: 20-document-library.png\n",
  "scoped_services": ["frontend"],
  "files_to_modify": [
    "frontend/src/App.tsx",
    "frontend/src/components/layout/Sidebar.tsx",
    "frontend/src/types/index.ts"
  ],
  "files_to_create": [
    "frontend/src/pages/DocumentLibraryPage.tsx",
    "frontend/src/components/documents/FolderTree.tsx",
    "frontend/src/components/documents/FileList.tsx",
    "frontend/src/components/documents/FilePreview.tsx",
    "frontend/src/components/documents/UploadZone.tsx",
    "frontend/src/hooks/useDocuments.ts"
  ],
  "files_to_reference": [
    "frontend/src/pages/MaterialsPage.tsx",
    "frontend/src/components/ui/DataTable.tsx",
    "frontend/src/api/files.ts",
    "frontend/src/api/materials.ts",
    "frontend/src/components/ui/Card.tsx",
    "frontend/src/components/ui/Modal.tsx",
    "frontend/src/components/ui/EmptyState.tsx"
  ],
  "patterns": {
    "page_structure": "MaterialsPage.tsx - PageHeader + KPI cards + search/filter + tabs + DataTable + modals",
    "table_pattern": "DataTable.tsx - columns with custom render functions, row selection, sorting, pagination",
    "api_pattern": "files.ts - filesApi.list/upload/delete/getDownloadUrl with async/await and error handling",
    "routing_pattern": "App.tsx - nested routes under /projects/:projectId",
    "navigation_pattern": "Sidebar.tsx - projectNavItems array with icon, label, path",
    "state_management": "useState hooks + useParams for projectId + useToast for feedback",
    "upload_pattern": "react-dropzone v14.2.3 installed, use useDropzone hook with FormData"
  },
  "existing_implementations": {
    "description": "File API infrastructure already exists - filesApi in frontend/src/api/files.ts provides list, upload, delete, and getDownloadUrl methods. Backend endpoints at /projects/{project_id}/files are ready to use.",
    "relevant_files": [
      "frontend/src/api/files.ts",
      "frontend/src/types/index.ts (FileAttachment interface exists)"
    ],
    "tech_stack": {
      "frontend": ["React 18", "TypeScript", "Vite", "Material-UI v5", "react-dropzone v14", "react-router-dom"],
      "backend": ["FastAPI", "Python 3.11+", "SQLAlchemy", "PostgreSQL"],
      "infrastructure": ["Docker Compose", "Redis", "Celery"]
    },
    "key_conventions": [
      "All pages use PageHeader with breadcrumbs",
      "CRUD operations show loading states with Skeleton components",
      "Toast notifications for all user feedback (showError, showSuccess)",
      "DataTable columns use custom render functions for rich UI",
      "FormModal and ConfirmModal for user interactions",
      "API calls wrapped in try/catch with loading/error states"
    ]
  },
  "created_at": "2026-02-01T00:00:00.000000"
}
